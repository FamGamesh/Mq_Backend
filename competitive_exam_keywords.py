# Comprehensive Keyword Dictionary for Indian Competitive Exams
# Covers SSC, BPSC, NTPC, UPSC and other competitive exams
# No word limit - comprehensive coverage for all topics and subtopics

COMPETITIVE_EXAM_KEYWORDS = {
    # HISTORY - Ancient, Medieval, Modern India
    'history': [
        'ancient', 'medieval', 'modern', 'historical', 'chronology', 'timeline', 'period', 'era', 'epoch', 'century', 'millennium',
        'civilization', 'culture', 'dynasty', 'empire', 'kingdom', 'sultanate', 'mughal', 'british', 'colonial', 'independence',
        'harappan', 'indus', 'vedic', 'mauryan', 'gupta', 'chola', 'pallava', 'rashtrakuta', 'delhi sultanate',
        'vijayanagara', 'bahmani', 'maratha', 'sikh', 'ahom', 'mysore', 'hyderabad', 'awadh', 'bengal',
        'ashoka', 'chandragupta', 'akbar', 'aurangzeb', 'tipu sultan', 'shivaji', 'rana pratap', 'prithviraj chauhan',
        'babar', 'humayun', 'jahangir', 'shah jahan', 'balaji vishwanath', 'peshwa', 'ranjit singh',
        'revolt', 'rebellion', 'mutiny', 'sepoy', '1857', 'freedom struggle', 'nationalist movement', 'congress', 'muslim league',
        'gandhi', 'nehru', 'patel', 'azad', 'bose', 'tilak', 'gokhale', 'lajpat rai', 'bipin chandra pal',
        'khilafat', 'non-cooperation', 'civil disobedience', 'quit india', 'salt march', 'dandi', 'satyagraha',
        'partition', '1947', 'mountbatten', 'radcliffe', 'integration', 'states reorganization'
    ],
    
    # GEOGRAPHY - Physical and Human Geography
    'geography': [
        'geographical', 'topography', 'terrain', 'landscape', 'region', 'area', 'zone', 'belt', 'tract',
        'mountain', 'hill', 'peak', 'range', 'plateau', 'plain', 'valley', 'canyon', 'gorge', 'pass',
        'himalaya', 'western ghats', 'eastern ghats', 'aravalli', 'vindhya', 'satpura', 'nilgiri', 'cardamom',
        'deccan', 'malwa', 'bundelkhand', 'baghelkhand', 'rohilkhand', 'doab', 'punjab', 'haryana',
        'river', 'tributary', 'distributary', 'confluence', 'delta', 'estuary', 'basin', 'watershed',
        'ganga', 'yamuna', 'brahmaputra', 'indus', 'godavari', 'krishna', 'kaveri', 'narmada', 'tapti', 'mahanadi',
        'climate', 'weather', 'monsoon', 'rainfall', 'precipitation', 'humidity', 'temperature', 'season',
        'cyclone', 'anticyclone', 'depression', 'western disturbance', 'trade winds', 'jet stream',
        'soil', 'alluvial', 'black', 'red', 'laterite', 'arid', 'saline', 'alkaline', 'forest', 'vegetation',
        'biodiversity', 'ecosystem', 'biome', 'flora', 'fauna', 'endemic', 'wildlife', 'sanctuary', 'national park',
        'tiger reserve', 'biosphere reserve', 'ramsar', 'wetland', 'coral reef', 'mangrove',
        'mineral', 'coal', 'iron ore', 'bauxite', 'copper', 'zinc', 'lead', 'gold', 'diamond', 'petroleum', 'natural gas',
        'jharkhand', 'chhattisgarh', 'odisha', 'jharia', 'singrauli', 'korba', 'rourkela', 'jamshedpur',
        'agriculture', 'crop', 'kharif', 'rabi', 'zaid', 'rice', 'wheat', 'cotton', 'sugarcane', 'jute', 'tea', 'coffee',
        'green revolution', 'white revolution', 'blue revolution', 'yellow revolution', 'irrigation', 'canal'
    ],
    
    # POLITICAL SCIENCE & GOVERNANCE
    'polity': [
        'constitution', 'fundamental rights', 'directive principles', 'fundamental duties', 'preamble',
        'parliament', 'lok sabha', 'rajya sabha', 'speaker', 'chairman', 'president', 'vice president', 'governor',
        'prime minister', 'council of ministers', 'cabinet', 'chief minister', 'legislative assembly', 'legislative council',
        'judiciary', 'supreme court', 'high court', 'district court', 'chief justice', 'judge', 'advocate general',
        'election', 'electoral college', 'election commission', 'constituency', 'delimitation', 'franchise',
        'political party', 'coalition', 'opposition', 'majority', 'minority', 'democracy', 'federal', 'unitary',
        'amendment', 'article', 'schedule', 'ordinance', 'bill', 'act', 'law', 'legislation', 'policy',
        'panchayati raj', 'municipality', 'local self government', 'decentralization', 'devolution',
        'emergency', 'national emergency', 'president rule', 'financial emergency', 'proclamation',
        'public service commission', 'upsc', 'state psc', 'civil services', 'ias', 'ips', 'ifs', 'bureaucracy',
        'administrative reforms', 'good governance', 'transparency', 'accountability', 'rti', 'lokpal', 'ombudsman'
    ],
    
    # ECONOMICS
    'economics': [
        'economy', 'economic', 'gdp', 'gnp', 'nni', 'per capita income', 'inflation', 'deflation', 'stagflation',
        'fiscal', 'monetary', 'budget', 'deficit', 'surplus', 'debt', 'borrowing', 'lending', 'credit',
        'taxation', 'income tax', 'corporate tax', 'gst', 'customs', 'excise', 'service tax',
        'banking', 'rbi', 'reserve bank', 'commercial bank', 'cooperative bank', 'regional rural bank',
        'nabard', 'sidbi', 'exim bank', 'mudra', 'priority sector lending', 'financial inclusion',
        'stock exchange', 'sensex', 'nifty', 'bse', 'nse', 'sebi', 'mutual fund', 'insurance', 'pension',
        'agriculture', 'industry', 'service', 'manufacturing', 'mining', 'construction', 'trade', 'transport',
        'five year plan', 'planning commission', 'niti aayog', 'poverty', 'unemployment', 'inequality',
        'liberalization', 'privatization', 'globalization', 'economic reforms', '1991', 'structural adjustment',
        'wto', 'imf', 'world bank', 'foreign direct investment', 'fdi', 'balance of payments', 'current account',
        'make in india', 'digital india', 'startup india', 'skill india', 'jan dhan', 'financial inclusion'
    ],
    
    # SCIENCE & TECHNOLOGY
    'science': [
        'physics', 'chemistry', 'biology', 'mathematics', 'computer science', 'space', 'isro', 'nuclear',
        'atom', 'molecule', 'element', 'compound', 'reaction', 'catalyst', 'enzyme', 'protein', 'dna', 'rna',
        'cell', 'tissue', 'organ', 'system', 'photosynthesis', 'respiration', 'digestion', 'circulation',
        'nervous system', 'endocrine', 'reproductive', 'immune', 'genetics', 'heredity', 'evolution',
        'force', 'energy', 'motion', 'gravity', 'electromagnetic', 'light', 'sound', 'heat', 'electricity',
        'magnetism', 'wave', 'particle', 'quantum', 'relativity', 'periodic table', 'chemical bond',
        'technology', 'innovation', 'research', 'development', 'patent', 'invention', 'discovery',
        'internet', 'computer', 'software', 'hardware', 'algorithm', 'artificial intelligence', 'machine learning',
        'biotechnology', 'nanotechnology', 'genetic engineering', 'cloning', 'stem cell', 'vaccine',
        'satellite', 'rocket', 'mars mission', 'chandrayaan', 'mangalyaan', 'gaganyaan', 'aditya',
        'renewable energy', 'solar', 'wind', 'hydroelectric', 'nuclear power', 'thermal power',
        'environment', 'pollution', 'climate change', 'global warming', 'ozone depletion', 'acid rain'
    ],
    
    # CURRENT AFFAIRS & CONTEMPORARY ISSUES
    'current_affairs': [
        'government scheme', 'policy', 'program', 'initiative', 'mission', 'campaign', 'yojana',
        'pradhan mantri', 'chief minister', 'minister', 'appointment', 'resignation', 'election results',
        'summit', 'conference', 'meeting', 'agreement', 'mou', 'treaty', 'accord', 'pact',
        'award', 'prize', 'recognition', 'honor', 'achievement', 'record', 'milestone', 'breakthrough',
        'international relations', 'bilateral', 'multilateral', 'diplomatic', 'foreign policy', 'trade',
        'sports', 'olympics', 'commonwealth games', 'asian games', 'world cup', 'cricket', 'hockey',
        'badminton', 'tennis', 'wrestling', 'boxing', 'shooting', 'archery', 'athletics', 'swimming',
        'book', 'author', 'literature', 'novel', 'poetry', 'publication', 'literary award',
        'festival', 'celebration', 'cultural event', 'art', 'music', 'dance', 'theatre', 'cinema',
        'health', 'disease', 'pandemic', 'epidemic', 'vaccination', 'medical breakthrough', 'hospital',
        'infrastructure', 'railway', 'highway', 'airport', 'port', 'bridge', 'tunnel', 'metro',
        'technology launch', 'app launch', 'digital platform', 'e-governance', 'online service'
    ],
    
    # ART & CULTURE
    'art_culture': [
        'dance', 'music', 'art', 'sculpture', 'painting', 'architecture', 'temple', 'mosque', 'church',
        'bharatanatyam', 'kathak', 'odissi', 'kuchipudi', 'manipuri', 'mohiniyattam', 'kathakali',
        'classical music', 'carnatic', 'hindustani', 'raga', 'tala', 'instrument', 'sitar', 'tabla', 'flute',
        'folk dance', 'folk music', 'tribal art', 'handicraft', 'handloom', 'textile', 'embroidery',
        'festival', 'diwali', 'holi', 'dussehra', 'eid', 'christmas', 'guru nanak jayanti', 'buddha purnima',
        'language', 'literature', 'sanskrit', 'hindi', 'tamil', 'telugu', 'bengali', 'marathi', 'gujarati',
        'epic', 'ramayana', 'mahabharata', 'puranas', 'vedas', 'upanishads', 'geeta', 'quran', 'bible',
        'philosophy', 'religion', 'hinduism', 'buddhism', 'jainism', 'sikhism', 'islam', 'christianity',
        'unesco world heritage', 'monument', 'historical site', 'archaeological', 'ancient structure'
    ],
    
    # ENVIRONMENT & ECOLOGY
    'environment': [
        'environment', 'ecology', 'ecosystem', 'biodiversity', 'conservation', 'wildlife', 'forest',
        'pollution', 'air pollution', 'water pollution', 'soil pollution', 'noise pollution', 'plastic pollution',
        'climate change', 'global warming', 'greenhouse gas', 'carbon emission', 'ozone layer', 'acid rain',
        'renewable energy', 'solar energy', 'wind energy', 'hydroelectric', 'biomass', 'geothermal',
        'sustainable development', 'environmental protection', 'green technology', 'clean energy',
        'national park', 'wildlife sanctuary', 'tiger reserve', 'biosphere reserve', 'ramsar site',
        'endangered species', 'extinct species', 'endemic species', 'migration', 'habitat', 'ecosystem services',
        'environmental law', 'environmental impact assessment', 'pollution control board', 'green tribunal',
        'paris agreement', 'kyoto protocol', 'montreal protocol', 'cop summit', 'unfccc'
    ],
    
    # SPECIFIC TOPICS FOR DIFFERENT EXAMS
    
    # SSC Specific Topics
    'ssc_specific': [
        'staff selection commission', 'combined graduate level', 'cgl', 'chsl', 'mts', 'constable',
        'junior engineer', 'translator', 'statistical investigator', 'assistant audit officer',
        'quantitative aptitude', 'general intelligence', 'reasoning', 'general awareness', 'english comprehension',
        'data interpretation', 'numerical ability', 'arithmetic', 'algebra', 'geometry', 'trigonometry',
        'statistics', 'probability', 'percentage', 'ratio', 'proportion', 'average', 'time and work',
        'time and distance', 'speed', 'profit and loss', 'simple interest', 'compound interest',
        'verbal reasoning', 'non-verbal reasoning', 'logical reasoning', 'analytical reasoning',
        'coding decoding', 'blood relations', 'direction sense', 'ranking', 'seating arrangement',
        'synonyms', 'antonyms', 'spelling', 'grammar', 'sentence correction', 'comprehension', 'cloze test'
    ],
    
    # UPSC Specific Topics
    'upsc_specific': [
        'union public service commission', 'civil services', 'ias', 'ips', 'ifs', 'irs', 'ies',
        'prelims', 'mains', 'personality test', 'interview', 'csat', 'general studies',
        'indian heritage', 'world history', 'physical geography', 'indian geography', 'world geography',
        'environment and ecology', 'economic and social development', 'technology', 'biodiversity',
        'climate change', 'disaster management', 'internal security', 'governance', 'constitution',
        'polity', 'social justice', 'international relations', 'ethics', 'integrity', 'aptitude',
        'essay', 'comprehension', 'precis writing', 'decision making', 'problem solving',
        'optional subject', 'anthropology', 'sociology', 'psychology', 'philosophy', 'public administration',
        'political science', 'international relations', 'law', 'management', 'medical science'
    ],
    
    # BPSC Specific Topics
    'bpsc_specific': [
        'bihar public service commission', 'combined competitive examination', 'judicial service',
        'assistant professor', 'headmaster', 'block education officer', 'child development project officer',
        'bihar history', 'bihar geography', 'bihar government schemes', 'bihar politics', 'bihar economy',
        'patna', 'gaya', 'bhagalpur', 'muzaffarpur', 'darbhanga', 'purnia', 'bihar sharif', 'sasaram',
        'champaran', 'vaishali', 'nalanda', 'rajgir', 'bodhgaya', 'vikramshila', 'nalanda university',
        'bihar assembly', 'bihar cabinet', 'bihar governor', 'bihar chief minister', 'bihar budget',
        'ganga', 'son', 'gandak', 'kosi', 'bagmati', 'kamla', 'mahananda', 'falgu',
        'bihar industries', 'bihar agriculture', 'bihar education', 'bihar health', 'bihar transport'
    ],
    
    # NTPC Specific Topics
    'ntpc_specific': [
        'railway recruitment board', 'non-technical popular categories', 'assistant station master',
        'goods guard', 'commercial apprentice', 'station master', 'traffic assistant', 'train clerk',
        'accounts clerk', 'time keeper', 'ticket collector', 'travelling ticket examiner',
        'indian railways', 'railway zones', 'railway divisions', 'railway board', 'railway minister',
        'gauge', 'broad gauge', 'meter gauge', 'narrow gauge', 'track', 'signal', 'locomotive',
        'electric train', 'diesel train', 'steam engine', 'freight train', 'passenger train',
        'railway station', 'junction', 'terminal', 'platform', 'booking office', 'reservation',
        'railway safety', 'railway security', 'railway police', 'railway protection force',
        'railway budget', 'railway infrastructure', 'railway electrification', 'high speed rail',
        'metro rail', 'monorail', 'bullet train', 'vande bharat', 'rajdhani', 'shatabdi', 'duronto'
    ],
    
    # PLACES AND INFRASTRUCTURE (relevant to airports, etc.)
    'places_infrastructure': [
        'airport', 'airfield', 'runway', 'terminal', 'hangar', 'air traffic control', 'aviation',
        'domestic airport', 'international airport', 'civil airport', 'military airport',
        'indira gandhi international', 'chhatrapati shivaji', 'netaji subhas chandra bose',
        'kempegowda', 'rajiv gandhi international', 'sardar vallabhbhai patel', 'jaipur airport',
        'cochin international', 'trivandrum international', 'calicut international', 'mangalore airport',
        'bagdogra', 'silchar', 'dibrugarh', 'jorhat', 'tezpur', 'imphal', 'agartala',
        'kushok bakula rimpochee', 'leh', 'ladakh', 'jammu and kashmir', 'union territory',
        'high altitude', 'cold desert', 'himalayan region', 'strategic location', 'border area',
        'china border', 'pakistan border', 'line of actual control', 'lac', 'siachen',
        'kargil', 'drass', 'srinagar', 'jammu', 'dharamshala', 'manali', 'spiti', 'lahaul',
        'infrastructure development', 'connectivity', 'transportation', 'logistics', 'supply chain',
        'highway', 'national highway', 'state highway', 'expressway', 'bridge', 'tunnel', 'flyover',
        'railway line', 'metro', 'monorail', 'bus rapid transit', 'ropeway', 'cable car',
        'port', 'seaport', 'inland port', 'container terminal', 'cargo handling', 'shipping',
        'telecommunications', 'internet', 'mobile network', 'satellite communication', 'fiber optic',
        'power plant', 'thermal power', 'hydroelectric', 'nuclear power', 'solar park', 'wind farm',
        'dam', 'reservoir', 'canal', 'irrigation', 'water supply', 'sewage treatment', 'waste management'
    ],
    
    # AWARDS AND RECOGNITIONS
    'awards': [
        'bharat ratna', 'padma vibhushan', 'padma bhushan', 'padma shri', 'nobel prize', 'booker prize',
        'pulitzer prize', 'oscar', 'grammy', 'emmy', 'bafta', 'cannes', 'venice film festival',
        'national film award', 'filmfare award', 'sahitya akademi', 'sangeet natak akademi',
        'lalit kala akademi', 'arjuna award', 'khel ratna', 'dronacharya award', 'dhyan chand award',
        'param vir chakra', 'maha vir chakra', 'vir chakra', 'ashok chakra', 'kirti chakra', 'shaurya chakra',
        'president medal', 'police medal', 'fire service medal', 'gallantry award', 'bravery award'
    ],
    
    # ORGANIZATIONS AND INSTITUTIONS
    'organizations': [
        'united nations', 'unesco', 'unicef', 'who', 'wto', 'imf', 'world bank', 'asian development bank',
        'saarc', 'asean', 'brics', 'g7', 'g20', 'quad', 'shanghai cooperation organization',
        'non-aligned movement', 'commonwealth', 'international court of justice', 'international criminal court',
        'red cross', 'amnesty international', 'transparency international', 'greenpeace', 'wwf',
        'isro', 'drdo', 'csir', 'icar', 'icmr', 'dst', 'dbt', 'atomic energy commission',
        'space research', 'defence research', 'agricultural research', 'medical research', 'industrial research',
        'iit', 'iim', 'iisc', 'nit', 'iiser', 'iiit', 'central university', 'deemed university',
        'ugc', 'aicte', 'mci', 'bar council', 'icai', 'icsi', 'institute of cost accountants'
    ]
}

# Function to get all keywords for a topic with enhanced matching
def get_comprehensive_keywords(topic):
    """
    Get comprehensive keywords for enhanced topic matching
    Includes direct keywords, synonyms, related terms, and contextual matches
    """
    topic_lower = topic.lower().strip()
    
    # Collect all relevant keywords
    all_keywords = set()
    
    # Add the topic itself and its words
    all_keywords.add(topic_lower)
    topic_words = topic_lower.split()
    for word in topic_words:
        if len(word) > 2:  # Ignore very short words
            all_keywords.add(word)
    
    # Search through all categories for matches
    for category, keywords in COMPETITIVE_EXAM_KEYWORDS.items():
        for keyword in keywords:
            # Direct match
            if topic_lower in keyword.lower() or keyword.lower() in topic_lower:
                all_keywords.update(keywords)
                break
            
            # Word-level matching
            for topic_word in topic_words:
                if len(topic_word) > 3 and topic_word in keyword.lower():
                    all_keywords.update(keywords)
                    break
    
    # Special handling for specific topics
    special_mappings = {
        'kushok bakula rimpochee': [
            'airport', 'leh', 'ladakh', 'jammu kashmir', 'union territory', 'infrastructure',
            'aviation', 'high altitude', 'himalayan', 'border', 'strategic', 'defense',
            'connectivity', 'transportation', 'cold desert', 'tourism', 'pilgrimage',
            'buddhist', 'monastery', 'culture', 'heritage', 'glacier', 'mountain pass'
        ],
        'leh': [
            'ladakh', 'kushok bakula rimpochee', 'airport', 'jammu kashmir', 'union territory',
            'high altitude', 'cold desert', 'himalaya', 'karakoram', 'indus', 'buddhist',
            'monastery', 'pangong', 'nubra valley', 'khardung la', 'chang la', 'tourism'
        ],
        'airport': [
            'aviation', 'aircraft', 'runway', 'terminal', 'air traffic', 'domestic', 'international',
            'civil aviation', 'airlines', 'flight', 'passenger', 'cargo', 'infrastructure',
            'connectivity', 'transportation', 'tourism', 'economic development'
        ]
    }
    
    for key, related_terms in special_mappings.items():
        if key in topic_lower or any(word in key for word in topic_words):
            all_keywords.update(related_terms)
    
    return list(all_keywords)

# Enhanced relevance checking with comprehensive keyword matching
def is_topic_relevant_comprehensive(question_text, search_topic):
    """
    Enhanced relevance checking using comprehensive keyword dictionary
    Returns True if question is relevant to the search topic
    """
    if not question_text or not search_topic:
        return False
    
    question_lower = question_text.lower()
    topic_lower = search_topic.lower()
    
    # Direct topic match (highest priority)
    if topic_lower in question_lower:
        return True
    
    # Get comprehensive keywords for the topic
    topic_keywords = get_comprehensive_keywords(search_topic)
    
    # Check for keyword matches with different weights
    high_weight_matches = 0
    medium_weight_matches = 0
    low_weight_matches = 0
    
    for keyword in topic_keywords:
        keyword_lower = keyword.lower()
        
        if len(keyword_lower) <= 2:  # Skip very short keywords
            continue
            
        if keyword_lower in question_lower:
            # Assign weights based on keyword length and specificity
            if len(keyword_lower) >= 8:  # Long, specific keywords
                high_weight_matches += 3
            elif len(keyword_lower) >= 5:  # Medium keywords
                medium_weight_matches += 2
            else:  # Short keywords
                low_weight_matches += 1
    
    # Calculate relevance score
    relevance_score = high_weight_matches + medium_weight_matches + low_weight_matches
    
    # Threshold for relevance (can be adjusted)
    relevance_threshold = 2
    
    return relevance_score >= relevance_threshold

# Backward compatibility function
def enhanced_is_mcq_relevant(question_text, search_topic):
    """
    Enhanced MCQ relevance checking function
    Combines the new comprehensive approach with fallback to original logic
    """
    # First try comprehensive approach
    if is_topic_relevant_comprehensive(question_text, search_topic):
        return True
    
    # Fallback to original logic for edge cases
    if not question_text or not search_topic:
        return False
    
    question_lower = question_text.lower()
    topic_lower = search_topic.lower()
    
    # Basic word matching as fallback
    topic_words = topic_lower.split()
    for word in topic_words:
        if len(word) > 3 and word in question_lower:
            return True
    
    return False